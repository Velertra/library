<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>HTML 5 Boilerplate</title>
    <link rel="stylesheet" href="style.css">
  </head>

  <body>

  <button class="open-button" onclick="openForm()">open up</button>


    <div class="pop_up_form" id="form">
    <form class="myform" id="myform" method="get">
      <div>
        <label for="book_title">Title:</label>
        <input type="text" id="book_title" name="book_title" placeholder="Book Name">
      </div>
      <div>
        <label for="book_author">Who wrote This:</label>
        <input type="text" id="author" placeholder="Book author">
      </div>
      <div>
        <label for="book_rating">Pages:</label>
        <input type="text" id="pages_read" placeholder="Pages">
      </div>
      <div>
        <label for="finished_pages">Read:</label>
        <input type="text" id="finished_pages" placeholder="Done?">
      </div>

      <div>  
         <input  id="submit" type="submit" >
       </div>
  
    </form>
  </div>
    
      <div class="result" id="result"></div>
  
    <script>

let titleNeeded = '';
let authorNeeded = '';
let pagesNeeded = '';
let readNeeded = '';
      

      function openForm() {
        document.getElementById("form").style.display = "block";
      }
     

      function closeForm() {
        document.getElementById("form").style.display = "none";
      }


      function validateForm(e) {
      
      titleNeeded = document.getElementById("book_title").value;  // pause the submit to store as
                                                                    //variable. then removes text.
      e.preventDefault();                                          
      document.getElementById('book_title').value = '';
      
      authorNeeded = document.getElementById('author').value;     //function pulls value from the from 
      e.preventDefault();
      document.getElementById('author').value = '';

      pagesNeeded = document.getElementById('pages_read').value;    
      e.preventDefault();
      document.getElementById('pages_read').value = '';

      readNeeded = document.getElementById('finished_pages').value;    
      e.preventDefault();
      document.getElementById('finished_pages').value = ''; 


      if(titleNeeded) {
            addBookToLibrary(titleNeeded);
      }
          }  


 
     let form = document.getElementById('myform');
     form.addEventListener('submit',validateForm);


  

       const container = document.querySelector('#result')

 
 


       let myLibrary = ['mock','anothermock'];
   
   
   
       function book(title, author, pages, read) {
        this.title = title
        this.author = author
        this.pages = pages
        this.read = read
        
         // the constructor?
   
       }
   


      
       function removeDisplayDiv(x){
        x.remove();

       }
   
       
       function removeAllChildNodes(parent) {
        while (parent.firstChild) {               //deletes divs created by 'loopThruArrays'
          parent.removeChild(parent.firstChild);
        }
       };



       function addBookToLibrary(x) {      //adds x to myLibrary
        this.x = myLibrary.push(x);
         loopThruArrays()
        }


        let newLibrary = [];



       function loopThruArrays() {
       removeAllChildNodes(container)
        for (let x = 0; x < myLibrary.length; x++) {
          bookDiv = document.createElement('div');          //creates divs with each new array added to 'myLibrary'
          bookDiv.classList.add("resultDiv")
          bookDiv.setAttribute('id', myLibrary[x])
          bookDiv.innerHTML = myLibrary[x];
          result.appendChild(bookDiv);
          
          let myDiv = document.getElementById(myLibrary[x]);
          let button = document.createElement('BUTTON');
          let text = document.createTextNode("delete");
          button.setAttribute('id', myLibrary[x]);
          let anotherContainer = document.getElementById(myLibrary[x]);
        //  let newContainer = document.querySelector(myLibrary[x]);

          button.appendChild(text);
          myDiv.appendChild(button);
          button.classList.add(myLibrary[x]);
          button.onclick = function(){ anotherContainer.remove()};
         


        //  removeDiv.addEventListener('delete2', )

     //   let boxes = document.querySelectorAll(myLibrary[x]);
        
        }//  box.remove();
        
        };

    
      
  
       /*
       function numberDivs() {
        for (let x = 0; x < myLibrary.length; x++)
        bookDiv.
       }

*/
   loopThruArrays()
  
   
     </script>
    
  </body>
    
  </html>