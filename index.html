<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>HTML 5 Boilerplate</title>
    <link rel="stylesheet" href="style.css">
  </head>

  <body>

  <button class="open-button" onclick="openForm()">open up</button>


    <div class="pop_up_form" id="form">
    <form class="myform" id="myform" method="get">
      <div>
        <label for="book_title">Book name thingy:</label>
        <input type="text" id="book_title" name="book_title" placeholder="Book Name">
      </div>
      <div>
        <label for="book_author">guy who wrote said book name thingy:</label>
        <input type="text" id="author" placeholder="Book author">
      </div>
      <div>
        <label for="book_rating">rating:</label>
        <input type="text" id="rating" placeholder="Book rating">
      </div>
      
      <div>  
         <input  id="submit" type="submit" >
       </div>
  
    </form>
  </div>
    
      <div class="result" id="result"></div>
  
    <script>

let titleNeeded = ''
      

      function openForm() {
        document.getElementById("form").style.display = "block";
      }
     

      function closeForm() {
        document.getElementById("form").style.display = "none";
      }


      function validateForm(e) {
      
      titleNeeded = document.getElementById("book_title").value;  // pause the submit to store as
      e.preventDefault();                                         // variable. then removes text.
      document.getElementById('book_title').value = '';
      addBookToLibrary(titleNeeded)
     }

 
     let form = document.getElementById('myform');
     form.addEventListener('submit',validateForm);


       const container = document.querySelector('#result')

 
 


       let myLibrary = ['mock','anothermock'];
   
   
   
       function book() {
   
         // the constructor?
   
       }
   


      

   
       
       function removeAllChildNodes(parent) {
        while (parent.firstChild) {               //deletes divs created by 'loopThruArrays'
          parent.removeChild(parent.firstChild);
        }
       };

       function addBookToLibrary(x) {      //adds x to myLibrary
        this.x = myLibrary.push(x);
         loopThruArrays()
        }

       function loopThruArrays() {
       removeAllChildNodes(container)
        for (let x = 0; x < myLibrary.length; x++) {
          bookDiv = document.createElement('div');          //creates divs with each new array added to 'myLibrary'
          bookDiv.classList.add("resultDiv")
          bookDiv.setAttribute('id', titleNeeded)
          bookDiv.innerHTML = myLibrary[x];
          result.appendChild(bookDiv);
         } 
       };
  
       /*
       function numberDivs() {
        for (let x = 0; x < myLibrary.length; x++)
        bookDiv.
       }

*/
   loopThruArrays()
  
   
     </script>
    
  </body>
    
  </html>